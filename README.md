# project2

## 유튜브 댓글 감정 분석 모델(FORA) 개발 

__1. 프로젝트 개요__
- 프로젝트 목표 : 기존의 단순한 긍정/부정 감정 분류를 넘어, 댓글에 담긴 다양한 감정(기쁨, 기대, 애정, 슬픔, 분노, 공포)으로 분류하여 더 정교한 감정 분석을 목표로 하였습니다. 
- 개발 배경 및 필요성 : 최근 온라인 플랫폼, 특히 유튜브와 같은 영상 기반 플랫폼에서 사용자 댓글은 중요한 소통 수단이자 여론을 반영하는 지표로 활용되고 있습니다. 그러나 기존 감정 분석 모델은 댓글의 복합적인 의미를 단순히 '긍정' 또는 '부정'으로만 분류하여 실질적인 인사이트를 포착하는 데 한계가 있었습니다. 이러한 한계를 해결하기 위해, 프로젝트에서는 새로운 감정 분석 모델 FORA(Future-Oriented Relational Affect model)를 개발했습니다. 유튜브 댓글을 핵심 데이터로 활용하였고, 제품(편의점 PB상품), 정책(고교학점제), 기술(AI) 3개 분야의 영상 댓글 데이터를 수집하여 다양한 주제에서 나타나는 대중의 의견을 분석하였습니다. FORA 모델은 6가지 감정을 분석하고 감정 강도를 정량화하여, 제품, 정책, 기술에 대한 여론을 심층적으로 분석하고, 이를 통해 현업 실무진에게 실질적이고 실행 가능한 인사이트를 도출하고자 개발되었습니다. 
<br>

__2. 기술 스택__
- 댓글 수집 : Google YouTube Data API
- 환경 : Google Colab
- 데이터 처리 : pandas
- 모델 기반 : KOTE 기반 사전 학습 모델
- 모델 학습 : torch, transformers
<br>

__3. 모델 개발 및 학습__

Hugging Face의 transformers 라이브러리를 기반으로, 기존의 한국어 감정 분석 모델을 정책, 기술, 제품 분야의 여론 분석에 최적화된 FORA 모델로 파인튜닝하는 과정을 거쳤습니다.

- 모델 선정 근거
  프로젝트는 한국어 댓글의 미묘한 감정 표현과 문맥을 정확히 이해하기 위해, 한국어 감정 단어 분석을 통해 구축된 KOTE 기반 사전 학습 모델을 베이스로 선정했습니다.
  
- 데이터셋 수집
  Google YouTube Data API를 활용하여 제품(편의점 PB상품), 정책(고교학점제), 기술(AI) 3개 분야의 영상 댓글 데이터를 수집했습니다.
  
- 데이터 전처리
  - 댓글 필터링 : 광고성 댓글과 주제와 무관한 댓글들은 제거하여 모델 학습의 효율성을 높였습니다.
  - 메타데이터 통합 : 댓글 내용 외에 '좋아요수' 및 '답글수'와 같은 메타데이터를 텍스트 입력 앞에 통합하여 모델이 문맥적 정보를 함께 학습하도록 입력 형식을 구성했습니다.
  - 다중 레이블 정량화 : 각 감정은 0에서 1사이의 강도 점수로 표현되어, 댓글에 담긴 복잡하거나 모호한 감정을 정량적으로 반영하도록 데이터를 처리했습니다.

- 모델 파인튜닝
  - 모델 유형 :  모델을 다중 레이블 분류 문제로 설정하여, 댓글 하나가 6가지 감정의 강도를 동시에 가질 수 있도록 학습했습니다.
  - 최적화 : F1 스코어를 최적 모델 저장 기준으로 설정하여, 모델의 성능을 최대화했습니다.

- 댓글 레이블링 지침
  
  <img width="900" height="600" alt="image" src="https://github.com/user-attachments/assets/d028a6f8-ceea-4785-a6b9-96e82ef4cc52" />

   
- Ground Truth 확립 <br>
  다른 조원들의 신뢰성 검증을 거쳐 다수결 판단에 따른 최종 레이블을 확립하여 데이터의 객관성을 확보했습니다.
  
  <img width="665" height="361" alt="image" src="https://github.com/user-attachments/assets/d7b7dc45-718d-44c4-9f6c-e2a6bef20589" />

<br>

__4. 모델 성능 평가 및 정확도__
  Top1 정확도 : 모델이 예측한 가장 높은 감정(Top1)이 실제 감정과 일치하는 비율 <br>
  Top1 또는 Top2 정확도 : 모델의 Top1 또는 Top2 감정 중 하나라도 실제 감정과 일치하는 비율

<img width="700" height="370" alt="image" src="https://github.com/user-attachments/assets/0acc6bc0-32bb-4eaf-9840-44b3110b5ad4" />

<br>

__5. 결과 및 인사이트__

  [제품] 
  편의점 3사의 크림빵 관련 댓글을 수집하여 감정 분류 모델을 통해 소비자 반응의 경향성을 분석하였습니다. <br>
  다만, 브랜드별 댓글 수 차이에 따른 한계를 고려하여 해석해야했습니다. <br>

  - CU 연세우유 크림빵은 댓글 수가 가장 많아 소비자 관심도가 매우 높음을 확인할 수 있습니다. 기대 감정이 높은 동시에 일부 부정 감정도 함께 나타나 소비자 반응의 스펙트럼이 넓게 분포하는 특징을 보였습니다. 제품 자체의 인지도와 기대감이 높은 만큼 다양한 이슈가 함께 논의된 결과로 해석됩니다.
  - 세븐일레븐 푸하하 크림빵은 상대적으로 적은 데이터 내에서 기대와 기쁨 감정이 유사한 수준으로 나타나, 전반적으로 안정적인 소비자 반응 경향을 확인할 수 있습니다. 
  - GS 브레디크 크림빵은 세 브랜드 중 기대 감정 점수가 가장 높게 나타났으며, 브랜드 인지도, 사전 정보 노출 등이 소비자의 구매 전 기대 형성에 강하게 작용했음을 보입니다. 댓글 수가 적은 만큼, 해당 결과는 전체 소비자 인식으로 일반화 되기보다는 댓글 참여자 기준의 반응 경향으로 해석하였습니다.
  
  <img width="1000" height="400" alt="image" src="https://github.com/user-attachments/assets/3787915d-51b2-4f1a-8cee-ea68ac54ada9" />


<br>
<br>

  [정책] 고교학점제에 대한 7년간의 여론을 시계열로 분석하여, 정책에 대한 대중의 핵심 우려가 시행 전 '가능성에 대한 기대'에서 시행 후 '실행의 혼선에 대한 분노'로 변화했음을 발견했습니다.<br>

  <img width="700" height="340" alt="image" src="https://github.com/user-attachments/assets/3a9278b9-208e-4488-84e8-b41c0df3bda1" />

<br>
<br>

  [기술] 과거 영상 대비 최근 영상 댓글에서는 공포 감정의 평균 점수가 크게 상승하며, 기대와 공포가 높은 수준에서 양립하는 여론을 형성했습니다.<br>

  <img width="764" height="449" alt="image" src="https://github.com/user-attachments/assets/a6a3e174-44d4-4bca-920e-fb3313d4883d" />

<br>
<br>

__6. 프로젝트 담당 역할__

- 데이터 수집 및 전처리
  - YouTube Data API를 활용하여 편의점 3사 PB 상품 관련 영상의 비정형 댓글 데이터를 수집을 하였습니다. 
  - 감정 분석의 정확도를 높이기 위해 특수문자 제거, 광고와 같은 영상과 관련 없는 댓글은 제거하였습니다.

- 다중 레이블 감정 분류 가이드라인 설계
  - 팀원들과의 협의를 통해 6가지의 감정별 정의와 예시를 포함한 레이블링 가이드라인을 제작함으로써 모델 학습 데이터의 객관성과 신뢰성을 확보했습니다.

- 제품 도메인 시각화 및 인사이트 도출
  - 막대그래프, 감정 레이더 차트, 워드클라우드, 히트맵 시각화를 통해 모델 분석 결과를 도출했습니다.

- 발표 자료 제작
  - 프로젝트의 전 과정을 담은 최종 발표자료(PPT)를 제작하여 프로젝트의 결과를 효과적으로 전달했습니다.
